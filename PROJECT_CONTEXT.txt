SEO Content Agent - Project Context (Short)
Last updated: 2026-02-28

1) Project Goal
Build an end-to-end SEO content writing workflow that:
- takes a search query,
- uses top URLs from seed/citations/overview text when available,
- extracts and summarizes competitor content,
- performs SEO gap analysis,
- generates an editable SEO brief,
- generates long-form content from that brief or from user-provided brief input,
- stores results per user account for later access.

2) Core Product Direction
The app is now split into two visible agents inside one dashboard:
- SEO Brief Agent
- Content Writer Agent

3) Confirmed UX Decisions
- Brief approval is optional.
- After brief creation, user can:
  - edit draft
  - save draft
  - create content
- Dashboard uses separate tabs (Option A), not one combined wizard.
- Content Writer Agent supports 3 modes:
  - from generated brief
  - from user brief
  - quick draft from query

4) Current Implementation (Done)
- FastAPI backend with auth and session cookies.
- Neon/Postgres support via `DATABASE_URL` with SQLite fallback for local/dev.
- Per-user history for briefs and articles.
- SEO Brief Agent implemented:
  - input query/sources/citations/overview
  - competitor analysis when sources exist
  - editable markdown brief draft
- Content Writer Agent implemented:
  - generate from saved brief
  - generate from custom brief
  - quick draft from query
- Separate progress/status tracking for briefs and articles.
- Xpaan-branded dashboard redesign implemented.
- Account Settings tab implemented:
  - user name
  - brand name
  - brand URL
  - custom brief prompt override
  - custom writer prompt override
- Article screen now includes a `See Brief` toggle so the source brief can be shown on demand.
- Google Docs / Sheets section exists as a prepared placeholder in settings, but OAuth/export is not active yet.
- Saved profile and prompt settings are injected into SEO brief generation and content writing.

5) Important Files
- README.md
- app/main.py
- app/api/routes_auth.py
- app/api/routes_briefs.py
- app/api/routes_articles.py
- app/api/routes_settings.py
- app/models/schemas.py
- app/models/store.py
- app/workflows/brief_pipeline.py
- app/workflows/article_pipeline.py
- app/workflows/source_analysis.py
- frontend/login.html
- frontend/dashboard.html
- frontend/assets/xpaan-logo.svg
- .env

6) Current Low-Cost Model Profile
- SMALL_MODEL=gpt-5-mini
- ANALYST_MODEL=gpt-5-mini
- WRITER_MODEL=gpt-5

7) Local Run Steps
- Activate venv and install requirements.
- Ensure OPENAI_API_KEY exists in `.env`.
- Start server:
  python -m uvicorn app.main:app --reload --host 127.0.0.1 --port 8000
- Open:
  http://127.0.0.1:8000

8) Deployment Status
- GitHub repo connected and pushed.
- Render deployment created.
- Custom subdomain connected.
- SSL certificate issued.
- Neon-compatible persistence implemented.
- Two-agent dashboard implementation now exists locally in code.

9) Current Deployment Notes
Important Render env vars:
- OPENAI_API_KEY
- SMALL_MODEL
- ANALYST_MODEL
- WRITER_MODEL
- COOKIE_SECURE=true
- SESSION_TTL_DAYS=30
- DATABASE_URL=<Neon connection string>

10) Next Recommended Upgrades
- Deploy/push account settings update to Render.
- Verify live settings save/load flow.
- Verify brand and prompt overrides influence generated briefs and drafts.
- Add Google Docs + Sheets export.
- Add Redis worker queue for heavier usage.
- Add Stripe subscriptions and usage limits.
- Replace placeholder SVG if final Xpaan logo asset is provided.

11) Note for Future Codex Sessions
At thread start, say:
"Read PROJECT_CONTEXT.txt first, then continue from current state."
